;MODULE LOADINGS
;;==============================================================================
;; PART 01 - Load all Mockup Enviroment Modules
(load "../../../kadena_repl_sandbox-main/kda-env/init.repl")
(load "../Initialise_DALOS.repl")
(load "../AOZ/Init_AOZ.repl")
(print "LOADED ALL ENV MODULES")

;;Entering Namespace Free
(namespace "free")

(begin-tx "Constant Moduel")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(module KC GOVERNANCE
    (defcap GOVERNANCE () true)

    (defconst ANHD "Ѻ.éXødVțrřĄθ7ΛдUŒjeßćιiXTПЗÚĞqŸœÈэαLżØôćmч₱ęãΛě$êůáØCЗшõyĂźςÜãθΘзШË¥şEÈnxΞЗÚÏÛjDVЪжγÏŽнăъçùαìrпцДЖöŃȘâÿřh£1vĎO£κнβдłпČлÿáZiĐą8ÊHÂßĎЩmEBцÄĎвЙßÌ5Ï7ĘŘùrÑckeñëδšПχÌàî")
    (defconst FLRN "Ѻ.ÍăüÙÜЦżΦF₿ÈшÕóñĐĞGюѺλωÇțnθòoйEςк₱0дş3ôPpxŞțqgЖ€šωbэočΞìČ5òżŁdŒИöùЪøŤяжλзÜ2ßżpĄγïčѺöэěτČэεSčDõžЩУЧÀ₳ŚàЪЙĎpЗΣ2ÃлτíČнÙyéÕãďWŹŘĘźσПåbã€éѺι€ΓφŠ₱ŽyWcy5ŘòmČ₿nβÁ¢¥NЙëOι")
    (defconst EMMA "Ѻ.A0ěьπΨтÎșπЦĐđŽ6ЫêÀεÅĐȘдÞЩ4Ł2ďй5žömiτsλÚÇдěÒaV₱ÏûιЩД₳îJÍşыyÜŹżęìvAЙsÄ¢ÿnΦIťQůЮ7ĄвaèďíoáнõÎLJθÆEáПiXÿÒÀĘ14цU1çΞêSťüIψчèι₱ê9ŽчΓüЦrÀÓμĆ99κQťqPÖшŮ1ÈČSĐŁÌбÝàŞbPσŃĎ8ĄW")
    (defconst BYTA "Ѻ.CЭΞŸNGúůρhãmИΘÛ¢₳šШдìAÚwŚGýηЗПAÊУÔȘřŽÍζЗηmΔφDmcдΛъ₳tĂýăŮsПÞ$öœGθeBŽvąαÃfçл¢ĎĆď$şbsЦэΘNÄëÍĂνуãöž¥àZjÆůšÁœôñχŽâЩåτâн4μфAOçĎΓuЗŮnøЙãĚè6Дżîþż$цÑûρψŻïZÉλûæřΨeèÎígςeL")
    (defconst LUMY "Ѻ.œâσzüştŒhłσćØTöõúoвþçЧлρËШđюλ2ÙPeжŘťȚŤtθËûrólþŘß₿øuŁdáNÎČȘřΦĘbχλΩĄ¢ц2ŹθõĐLcÑÁäăå₿ξЭжулxòΘηĂœŞÝUËcω∇ß$ωoñД7θÁяЯéEU¢CЮxÃэJĘčÎΠ£αöŮЖбlćшbăÙЦÎAдŃЭб$ĞцFδŃËúHãjÁÝàĘSt")
    (defconst COCA "Ѻ.áлÜŹZУαŻεvΩ€ÍÉźR5ΠúÉźηüΠÇτOVòÀgZZΠåÈдZëыуЛфЮ13φúνýhMαĄαÖìÍxнпĞjȚ¥бę¥šÔπΓ€Mnøí3ЧθźąйπĆTÌqooŽůŠóŚhřkžφHÿŽBДχpLÉeõxòσûEÜàμΓтÆdôûяàΞRηøćχdîфЩЗьδńŁ$Ü9ř∇ŸŠωVξЦF¢ĆĞÂ₱Ž")
    (defconst KISS "Ѻ.ÔřЦΠúlAŻвnŞÄȘнШĚЖÉřÉĐqлþåΦÉЩвØúÄΣNéSaPpmζżŽtηËJgνπΞ$ЗhêPúÏ£BÀp£β$z7ЯđòÔμЛюGЧĄ7xóЮGЮдYнșШΠŸRA¢śÉ4кAłůaDжp£σÏđχ6ïDжâ5uęΠşÖMþ4¥эăì3cXÛΘИÛźéËBÏžЙŁKjчψĎρЩlźEüśЯŁщbφ2")
    (defconst PLCS "Ѻ.BDțΛZУЩAwÅhУ¥бйeÄGjЯÔIŽ0ΣмωýOÒμψĚяуÿñUĐ€Ú£gâχΓπóÒïЮáпZЧhЫÄIsńËfźÄ1VXУõŘéiàшdĄΞχôCнsÛíÌáàЧßojΛaIλŹЮBøğÔWmòηвá€0ïЗUĞůпøůэóΞÁŘśяŃeÁďfσäKÏßżȚȘÿŒșεúêβÜèkyφΛrβБяK₳ě₱4")
    (defconst NANI "Ѻ.ЮÝžuÂěуşъøŞrΣσQxvЛòÁćÇлςÿŃYóγõыxÁùöÞÁ₳Ю5šШβíюťğÀÎrÿΛůßXЧщŹюДáŻяιËÔŘЬL4₱ĎěJ8ÃHËÏxĆŞÂÜûBcЭШκÙçóьÞÓŮεUIη2ЯąąÙJζÍêíEȘÇșÇOćΞșъÒýĂ₱χÅкGoЗИůω1cþÑŻÁжиáÿιŞŠÓŒлKõÏE₿ÌxYИн")
    (defconst AOZT "Ѻ.ÅτhGźνΣhςвiàÁĘĚДÏWÉΨTěCÃŒnæi9цéŘQí¢лΞÛIчмfÓeżÜýЯàDÖ5αȚÞVđσγ₱0ęЬÔĄsĄLлKùvåH£ΞMFУûÊyđÜqdŽŚЖsĘъsПÂÔØŹÞŮγŚΣЧ6Ïж¢чPyòлБ14ÚęŃĄåîêтηΛbΦđkûÇĂζsБúĎdŸUЛзÙÂÚJηXťćж¥zщòÁŸRĘ")

    (defconst TALOS "Σ.W∇ЦwÏξБØnζΦψÕłěîбηжÛśTã∇țâĆã4ЬĚIŽȘØíÕlÛřбΩцμCšιÄиMkλ€УщшàфGřÞыÎäY8È₳BDÏÚmßOozBτòÊŸŹjПкцğ¥щóиś4h4ÑþююqςA9ÆúÛȚβжéÑψéУoЭπÄЩψďşõшżíZtZuψ4ѺËxЖψУÌбЧλüșěđΔjÈt0ΛŽZSÿΞЩŠ")
    (defconst ATSTK "Σ.ëŤΦșźUÉM89ŹïuÆÒÕ£żíëцΘЯнŹÿxжöwΨ¥Пууhďíπ₱nιrŹÅöыыidõd7ì₿ипΛДĎĎйĄшΛŁPMȘïõμîμŻIцЖljÃαbäЗŸÖéÂЫèpAДuÿPσ8ÎoŃЮнsŤΞìтČ₿Ñ8üĞÕPșчÌșÄG∇MZĂÒЖь₿ØDCПãńΛЬõŞŤЙšÒŸПĘЛΠws9€ΦуêÈŽŻ")
    (defconst VESTG "Σ.şZïζhЛßdяźπПЧDΞZülΦпφßΣитœŸ4ó¥ĘкÌЦ₱₱AÚюłćβρèЬÍŠęgĎwтäъνFf9źdûъtJCλúp₿ÌнË₿₱éåÔŽvCOŠŃpÚKюρЙΣΩìsΞτWpÙŠŹЩпÅθÝØpтŮыØșþшу6GтÃêŮĞбžŠΠŞWĆLτЙđнòZЫÏJÿыжU6ŽкЫVσ€ьqθtÙѺSô€χ")
    (defconst LIQST "Σ.śκν9₿ŻşYЙΣJΘÊO9jпF₿wŻ¥уPэõΣÑïoγΠθßÙzěŃ∇éÖиțșφΦτşэßιBιśiĘîéòюÚY$êFЬŤØ$868дyβT0ςъëÁwRγПŠτËMĚRПMaäЗэiЪiςΨoÞDŮěŠβLé4čØHπĂŃŻЫΣÀmăĐЗżłÄăiĞ₿йÎEσțłGΛЖΔŞx¥ÁiÙNğÅÌlγ¢ĎwдŃ")
    (defconst OURBR "Σ.4M0èÞbøXśαiΠ€NùÇèφqλËãØÓNCнÌπпЬ4γTмыżěуàđЫъмéLUœa₿ĞЬŒѺrËQęíùÅЬ¥τ9£φď6pÙ8ìжôYиșîŻøbğůÞχEшäΞúзêŻöŃЮüŞöućЗßřьяÉżăŹCŸNÅìŸпĐżwüăŞãiÜą1ÃγänğhWg9ĚωG₳R0EùçGΨфχЗLπшhsMτξ")
)

(env-gas)
(commit-tx)

(begin-tx "Test Gas Compression")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

(print "===============================Start AOZ=============================")
(format "AOZ has {} PKOSON, {} EKOSON, {} AKOSON, {} Ignis." 
    [
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "GAS-98c486052a51" KC.AOZT true)
    ]
)
(format "DalosAutostake has {} PKOSON, {} EKOSON, {} AKOSON." 
    [
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.ATSTK true)
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.ATSTK true)
        (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.ATSTK true)
    ]
)

(format "Reward Tokens for PlebeicStrength are {}" [(free.ATS.ATS|UR_RewardTokenList "PlebeicStrength-98c486052a51")])
(format "Reward Tokens Resident Amounts for PlebeicStrength are {}" [(free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" true)])
(format "Reward Tokens Unbonding Amounts for PlebeicStrength are {}" [(free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" false)])
(format "PlebeicStrength is {};"
    [
        (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
    ]
)
(format "C-RBT for PlebeicStrength is {}" [(free.ATS.ATS|UR_ColdRewardBearingToken "PlebeicStrength-98c486052a51")])
(format "PlebiumDenarius Supply is {}" [(free.BASIS.DPTF-DPMF|UR_Supply "PDKOSON-98c486052a51" true)])
(format "PlebeicStrength RBT-Supply is {}" [(free.ATS.ATS|UCX_PairRBTSupply "PlebeicStrength-98c486052a51")])

        (free.ATSM.ATSM|C_Coil KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "PKOSON-98c486052a51" 100.0)
        (free.ATSM.ATSM|C_Fuel KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "PKOSON-98c486052a51" 50.0)
        (free.ATSM.ATSM|C_Fuel KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "EKOSON-98c486052a51" 40.0)
        (free.ATSM.ATSM|C_Fuel KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "AKOSON-98c486052a51" 80.0)

(format "PlebeicStrength is {};"
    [
        (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
    ]
)

(format "Cold Recovery is {} and Hot Recovery is {} for PlebeicStrength-98c486052a51"
    [
        (free.ATS.ATS|UR_ToggleColdRecovery "PlebeicStrength-98c486052a51")
        (free.ATS.ATS|UR_ToggleHotRecovery "PlebeicStrength-98c486052a51")
    ]
)

(env-gas)
(commit-tx)

(begin-tx "Hot RBT and Redeem Test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

        (print "BEFORE BLOCK===================================")
        ;;AOZET RT Info
        (format "AOZET has has {} PKOSON, {} EKOSON, {} AKOSON." 
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
            ]
        )
        ;;AOZET RBT Info
        (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )

        ;;INDEX Info
        (print "Plebeic Strength BEFORE HOT Recovery")
        (format "PlebeicStrength is {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
            ]
        )
        (format "Its RBT Supply is {}; C-RBT is {}; Hot-RBT is {}"
            [
                (free.ATS.ATS|UCX_PairRBTSupply "PlebeicStrength-98c486052a51")
                (free.BASIS.DPTF-DPMF|UR_Supply "PDKOSON-98c486052a51" true)
                (free.BASIS.DPTF-DPMF|UR_Supply "DDKOSON-98c486052a51" false)
            ]
        )
        (format "AUTOSTAKE has BEFORE REDEEM {} PKOSON, {} EKOSON, {} AKOSON in Plebeic Strength" 
            [
                (at "resident" (at 0 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 1 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 2 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
            ]
        )
        (print "BEFORE BLOCK===================================")
        (print "")
        (print "Function Block ++++++++++++++++++++++++++++++++")
        ;;HOT-Recovery plus Redeem Block
        (free.ATSH.ATSH|C_HotRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 100.0)

                (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
                    [
                        (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                        (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                        (at "block-time" (chain-data))
                    ]
                )

        (env-chain-data
            {"prev-block-hash": "98c486052a5147fdd30fa43cc6d67e0a4e680c856c37f9157cb788cd67d58006",
            "block-time": (time "2024-10-11T00:00:00Z")}
        )
        (free.ATSH.ATSH|C_Redeem KC.AOZT KC.AOZT "DDKOSON-98c486052a51" 1)
        (print "Function Block ++++++++++++++++++++++++++++++++")
        (print "")
        (print "AFTER BLOCK====================================")
        ;;AOZET RT Info
        (format "AOZET has has {} PKOSON, {} EKOSON, {} AKOSON." 
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
            ]
        )
        ;;AOZET RBT Info
        (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )

        ;;INDEX Info
        (print "Plebeic Strength BEFORE HOT Recovery")
        (format "PlebeicStrength is {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
        ]
        )
        (format "Its RBT Supply is {}; C-RBT is {}; Hot-RBT is {}"
            [
                (free.ATS.ATS|UCX_PairRBTSupply "PlebeicStrength-98c486052a51")
                (free.BASIS.DPTF-DPMF|UR_Supply "PDKOSON-98c486052a51" true)
                (free.BASIS.DPTF-DPMF|UR_Supply "DDKOSON-98c486052a51" false)
            ]
        )
        (format "AUTOSTAKE has AFTER REDEEM {} PKOSON, {} EKOSON, {} AKOSON in Plebeic Strength" 
            [
                (at "resident" (at 0 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 1 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 2 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
            ]
        )
        (print "AFTER BLOCK====================================")
            

(env-gas)
(commit-tx)

(begin-tx "Syphon Test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

(format "Plebeic Strength Setting Lock state is {}"
    [
        (free.ATS.ATS|UR_Lock "PlebeicStrength-98c486052a51")
    ]
)

(free.ATSM.ATSM|C_UpdateSyphon KC.AOZT "PlebeicStrength-98c486052a51" 0.6)
(free.ATSM.ATSM|C_ToggleSyphoning KC.AOZT "PlebeicStrength-98c486052a51" true)

        ;;Emma before Syphon
        (print "BEFORE Syphon  BLOCK===================================")
        (format "Emma BEFORE SYPHON has has {} PKOSON, {} EKOSON, {} AKOSON." 
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.EMMA true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.EMMA true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.EMMA true)
            ]
        )
        ;;INDEX Info
        (print "Plebeic Strength BEFORE SYPHON")
        (format "PlebeicStrength is {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
            ]
        )
        (format "Its RBT Supply is {}; C-RBT is {}; Hot-RBT is {}"
            [
                (free.ATS.ATS|UCX_PairRBTSupply "PlebeicStrength-98c486052a51")
                (free.BASIS.DPTF-DPMF|UR_Supply "PDKOSON-98c486052a51" true)
                (free.BASIS.DPTF-DPMF|UR_Supply "DDKOSON-98c486052a51" false)
            ]
        )
        (format "AUTOSTAKE has BEFORE SYPHON {} PKOSON, {} EKOSON, {} AKOSON in Plebeic Strength" 
            [
                (at "resident" (at 0 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 1 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 2 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
            ]
        )
        (print "BEFORE Syphon BLOCK===================================")
        (print "")

        ;;Syphon
        (print "AFTER Syphon  BLOCK====================================")
        (format "Max Syphon is {}"
            [
                (free.ATS.ATS|URC_MaxSyphon "PlebeicStrength-98c486052a51")
            ]
        )
        (free.ATSM.ATSM|C_Syphon KC.AOZT KC.EMMA "PlebeicStrength-98c486052a51" [125.0 46.25 76.25])

        ;;Emma after Syphon
        (format "Emma AFTER SYPHON has {} PKOSON, {} EKOSON, {} AKOSON." 
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.EMMA true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.EMMA true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.EMMA true)
            ]
        )
        ;;INDEX Info
        (print "Plebeic Strength AFTER SYPHON")
        (format "PlebeicStrength is {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
            ]
        )
        (format "Its RBT Supply is {}; C-RBT is {}; Hot-RBT is {}"
            [
                (free.ATS.ATS|UCX_PairRBTSupply "PlebeicStrength-98c486052a51")
                (free.BASIS.DPTF-DPMF|UR_Supply "PDKOSON-98c486052a51" true)
                (free.BASIS.DPTF-DPMF|UR_Supply "DDKOSON-98c486052a51" false)
            ]
        )
        (format "AUTOSTAKE has AFTER SYPHON {} PKOSON, {} EKOSON, {} AKOSON in Plebeic Strength" 
            [
                (at "resident" (at 0 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 1 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
                (at "resident" (at 2 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
            ]
        )
        (print "AFTER Syphon BLOCK====================================")
        (print "")

(env-gas)
(commit-tx)


(begin-tx "Remove Secondary BEFORE Function")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

        ;;AOZET RT Info
        (format "AOZET has has {} PKOSON, {} EKOSON, {} AKOSON." 
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
            ]
        )
        ;;AOZET RBT Info
        (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )
        (format "PlebeicStrength is BEFORE {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
            ]
        )
        (format "BEFORE COLD RECOVERY Resident Sum is {}, Unbonding Sum is {}"
            [
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" true))
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" false))
            ]
        )

        (print "EXECUTING Cold Recovery")
        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 40.0)
        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 50.0)
        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 75.0)

        (format "AFTER COLD RECOVERY Resident Sum is {}, Unbonding Sum is {}"
            [
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" true))
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" false))
            ]
        )

         ;;AOZET RBT Info
        (format "AOZ has after ColdRecovery {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )
        
        (print "After Cold Recovery")
        (free.DEPLOYER.ATS|UP_P0 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P1 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P2 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P3 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P4 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P5 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P6 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P7 "PlebeicStrength-98c486052a51" KC.AOZT)

        ;;Begining with Removal of RT
        (print "Begining with removal of RT++++++++++++++++++++")
        (free.ATSI.ATSI|C_TurnRecoveryOff KC.AOZT "PlebeicStrength-98c486052a51" false)
        (free.ATSI.ATSI|C_TurnRecoveryOff KC.AOZT "PlebeicStrength-98c486052a51" true)

        
(env-gas)
(commit-tx)

(begin-tx "Remove Secondary Test-Function Alone")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

(free.ATSM.ATSM|C_RemoveSecondary KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "AKOSON-98c486052a51")

(env-gas)
(commit-tx)

(begin-tx "Remove Secondary Verification")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

    ;;Verification
    (print "VERIFICATION===========================================")
    (format "PlebeicStrength is AFTER {};"
        [
            (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
        ]
    )
    (format "AUTOSTAKE has AFTER Removal of RT {} PKOSON, {} EKOSON" 
        [
            (at "resident" (at 0 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
            (at "resident" (at 1 (free.ATS.ATS|UR_RewardTokens "PlebeicStrength-98c486052a51")))
        ]
    )
    (format "AOZET has as RT AFTER Removal of RT {} PKOSON, {} EKOSON, {} AKOSON." 
        [
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
        ]
    )
    (free.DEPLOYER.ATS|UP_P0 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P1 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P2 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P3 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P4 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P5 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P6 "PlebeicStrength-98c486052a51" KC.AOZT)
    (free.DEPLOYER.ATS|UP_P7 "PlebeicStrength-98c486052a51" KC.AOZT)

(env-gas)
(commit-tx)


(begin-tx "Add Secondary Again")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)
        (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )
;;Begining with Removal of RT
(print "Begining with removal of RT++++++++++++++++++++")
(free.ATSM.ATSM|C_Coil KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "EKOSON-98c486052a51" 736.247)


        (format "AOZ has {} PlebiumDenarius and {} Denarius Debilis; Time is {}"
            [
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "PDKOSON-98c486052a51" KC.AOZT true)
                (free.BASIS.DPTF-DPMF|UR_AccountSupply "DDKOSON-98c486052a51" KC.AOZT false)
                (at "block-time" (chain-data))
            ]
        )

        (free.ATSM.ATSM|C_AddSecondary KC.AOZT "PlebeicStrength-98c486052a51" "AKOSON-98c486052a51" false)
        (free.ATSM.ATSM|C_Fuel KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" "AKOSON-98c486052a51" 2500.0)
        ;;AOZET RBT Info
        (format "PlebeicStrength is BEFORE {};"
            [
                (free.ATS.ATS|UC_Index "PlebeicStrength-98c486052a51")
            ]
        )
        (format "BEFORE COLD RECOVERY Resident Sum is {}, Unbonding Sum is {}"
            [
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" true))
                (at 2 (free.ATS.ATS|UR_RoUAmountList "PlebeicStrength-98c486052a51" false))
            ]
        )
(env-gas)
(commit-tx)


(begin-tx "2nd Cold Recovery Attempt")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

        (free.ATSM.ATSM|C_TurnRecoveryOn KC.AOZT "PlebeicStrength-98c486052a51" false)
        (free.ATSM.ATSM|C_TurnRecoveryOn KC.AOZT "PlebeicStrength-98c486052a51" true)

        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 25.0)
        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 64.0)
        (free.ATSC.ATSC|C_ColdRecovery KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51" 90.0)

        (print "After 2nd Cold Recovery")
        (free.DEPLOYER.ATS|UP_P0 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P1 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P2 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P3 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P4 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P5 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P6 "PlebeicStrength-98c486052a51" KC.AOZT)
        (free.DEPLOYER.ATS|UP_P7 "PlebeicStrength-98c486052a51" KC.AOZT)

        (env-chain-data
            {"prev-block-hash": "98c486052a5147fdd30fa43cc6d67e0a4e680c856c37f9157cb788cd67d58006",
             "block-time": (time "2024-11-01T00:00:00Z")}
        )

(env-gas)
(commit-tx)

(begin-tx "Cull Test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AOZ", "caps": [] }
    ]
)

    (format "AOZET has as RT BEFORE Second Cull of RT {} PKOSON, {} EKOSON, {} AKOSON." 
        [
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
        ]
    )

    (free.ATSC.ATSC|C_Cull KC.AOZT KC.AOZT "PlebeicStrength-98c486052a51")

    (format "AOZET has as RT AFTER Second Cull of RT {} PKOSON, {} EKOSON, {} AKOSON." 
        [
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "PKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "EKOSON-98c486052a51" KC.AOZT true)
            (free.BASIS.DPTF-DPMF|UR_AccountSupply "AKOSON-98c486052a51" KC.AOZT true)
        ]
    )
(env-gas)
(commit-tx)


(begin-tx "Owner Test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AncientHodler", "caps": [] }
    ]
)

    ;(format "Owner DPTFs by AOZ is {}" [(free.OUROBOROS.DPTF-DPMF-ATS|UR_OwnedTokens KC.AOZT 1)])
    ;(format "Owner DPMFs by AOZ is {}" [(free.OUROBOROS.DPTF-DPMF-ATS|UR_OwnedTokens KC.AOZT 2)])
    ;(format "Owner ATS-Pairs by AOZ is {}" [(free.OUROBOROS.DPTF-DPMF-ATS|UR_OwnedTokens KC.AOZT 3)])

(env-gas)
(commit-tx)

(begin-tx "Simple Transfer Test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AncientHodler", "caps": [] }
    ]
)
    
    (free.TFT.DPTF|C_BulkTransfer 
        KC.ANHD
        "OURO-98c486052a51"
        KC.ANHD
        [KC.BYTA KC.FLRN KC.EMMA KC.LUMY KC.COCA KC.KISS KC.PLCS KC.NANI KC.AOZT]
        [1.0 2.0 3.0 4.0 5.0 6.0 7.0 8.0 9.0]
        false
    )

(env-gas)
(commit-tx)

;(format "AH has {} IGNIS" [(free.BASIS.DPTF-DPMF|UR_AccountSupply "GAS-98c486052a51" KC.BYTA true)])
;(free.TALOS|DPTF.C_Transfer KC.BYTA "OURO-98c486052a51" KC.BYTA KC.FLRN 1.0)

(begin-tx "Keys Function test")
(env-gasmodel "table")(env-gaslimit 10000000)(env-gas 0)
(env-sigs 
    [   
        { "key": "PK_AncientHodler", "caps": [] }
    ]
)

(free.BASIS.DPTF|P-KEYS)

(env-gas)
(commit-tx)
